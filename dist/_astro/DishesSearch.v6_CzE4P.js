import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.RH_Wq4ov.js";function y({dishes:i}){const[o,d]=n.useState(""),[a,h]=n.useState(new Set);n.useEffect(()=>{const r=localStorage.getItem("checkedDishes");if(r)try{const t=JSON.parse(r);h(new Set(t))}catch(t){console.error("Error loading checked dishes from localStorage:",t)}},[]),n.useEffect(()=>{localStorage.setItem("checkedDishes",JSON.stringify(Array.from(a)))},[a]);const l=o.length>=3?i.filter(r=>{const t=o.toLowerCase(),s=r.title.toLowerCase().split(" "),x=r.desc.toLowerCase().split(" ");return s.some(c=>c.includes(t))||x.some(c=>c.includes(t))}):i,u=()=>{d("")},g=r=>{h(t=>{const s=new Set(t);return s.has(r)?s.delete(r):s.add(r),s})},m=r=>a.has(r);return e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Dania"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"relative flex items-center gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Szukaj da≈Ñ... (minimum 3 znaki)",value:o,onChange:r=>d(r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ocean-500 focus:border-transparent bg-white shadow-sm"}),o.length>0&&e.jsx("button",{onClick:u,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Wyczy≈õƒá wyszukiwanie",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),o.length>=3&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Znaleziono: ",l.length," ",l.length===1?"danie":"da≈Ñ"]}),e.jsx("div",{className:"my-6 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["üçΩÔ∏è Spr√≥bowano ",a.size," z ",i.length," da≈Ñ"]})})]}),e.jsx("div",{className:"space-y-6",children:l.map((r,t)=>{const s=m(r.title);return e.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-6 ${s?"border-2 border-green-600":"border border-gray-100"}`,children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:r.title}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:[r.imageSrc?e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>g(r.title),children:[e.jsx("img",{src:r.imageSrc,alt:r.title,className:"w-full h-48 object-cover rounded-lg transition-all duration-200",loading:"lazy"}),e.jsxs("div",{className:`absolute inset-0 rounded-lg transition-all duration-200 hidden md:block ${s?"bg-red-500 bg-opacity-0 group-hover:bg-opacity-30":"bg-green-500 bg-opacity-0 group-hover:bg-opacity-30"}`,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center md:transition-opacity md:duration-200 opacity-0 group-hover:opacity-100",children:s?e.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}):e.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),s&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 rounded-full p-1 shadow-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]})]})}):null,e.jsx("div",{className:r.imageSrc?"md:col-span-2":"md:col-span-3",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.desc})})]})]},t)})}),o.length>=3&&l.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center border border-gray-100",children:[e.jsx("div",{className:"text-gray-500 mb-2",children:e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Nie znaleziono da≈Ñ"}),e.jsx("p",{className:"text-gray-600",children:"Spr√≥buj u≈ºyƒá innych s≈Ç√≥w kluczowych lub wyczy≈õƒá wyszukiwanie."})]})]})}export{y as default};
