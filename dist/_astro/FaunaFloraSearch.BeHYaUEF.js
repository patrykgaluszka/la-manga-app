import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.RH_Wq4ov.js";function f({species:c,seasonalityMap:m}){const[a,d]=i.useState(""),[n,h]=i.useState(new Set);i.useEffect(()=>{const s=localStorage.getItem("checkedSpecies");if(s)try{const r=JSON.parse(s);h(new Set(r))}catch(r){console.error("Error loading checked species from localStorage:",r)}},[]),i.useEffect(()=>{localStorage.setItem("checkedSpecies",JSON.stringify(Array.from(n)))},[n]);const l=a.length>=3?c.filter(s=>{const r=a.toLowerCase(),o=s.commonName.toLowerCase().split(" "),p=s.plName.toLowerCase().split(" "),j=s.esName.toLowerCase().split(" "),w=s.notes.toLowerCase().split(" ");return o.some(t=>t.includes(r))||p.some(t=>t.includes(r))||j.some(t=>t.includes(r))||w.some(t=>t.includes(r))}):c,g=()=>{d("")},u=s=>{h(r=>{const o=new Set(r);return o.has(s)?o.delete(s):o.add(s),o})},x=s=>n.has(s);return e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Fauna i Flora"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"relative flex items-center gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Szukaj gatunk√≥w... (minimum 3 znaki)",value:a,onChange:s=>d(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ocean-500 focus:border-transparent bg-white shadow-sm"}),a.length>0&&e.jsx("button",{onClick:g,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Wyczy≈õƒá wyszukiwanie",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.length>=3&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Znaleziono: ",l.length," ",l.length===1?"gatunek":"gatunk√≥w"]}),e.jsx("div",{className:"my-6 text-center",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["üê† Zaobserwowano ",n.size," z ",c.length," gatunk√≥w"]})})]}),e.jsx("div",{className:"space-y-6",children:l.map((s,r)=>{const o=x(s.commonName);return e.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-6 ${o?"border-2 border-green-600":"border border-gray-100"}`,children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:s.commonName}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[e.jsx("span",{className:"italic",children:s.scientificName})," ‚Ä¢ üáµüá± ",s.plName," ‚Ä¢ üá™üá∏ ",s.esName," ‚Ä¢ ",m[s.seasonality]||s.seasonality]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:[s.imageSrc?e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>u(s.commonName),children:[e.jsx("img",{src:s.imageSrc,alt:s.commonName,className:"w-full h-48 object-contain rounded-lg transition-all duration-200",loading:"lazy"}),e.jsxs("div",{className:`absolute inset-0 rounded-lg transition-all duration-200 hidden md:block ${o?"bg-red-500 bg-opacity-0 group-hover:bg-opacity-30":"bg-green-500 bg-opacity-0 group-hover:bg-opacity-30"}`,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-opacity duration-200 opacity-0 group-hover:opacity-100",children:o?e.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}):e.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),o&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 rounded-full p-1 shadow-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]})]})}):e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"w-full h-48 bg-gradient-to-br from-ocean-100 to-ocean-200 rounded-lg flex items-center justify-center text-ocean-600 cursor-pointer group",onClick:()=>u(s.commonName),children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl mb-2 block",children:"üê†"}),e.jsx("span",{className:"text-sm font-medium",children:"Zdjƒôcie gatunku"})]}),e.jsxs("div",{className:`absolute inset-0 rounded-lg transition-all duration-200 hidden md:block ${o?"bg-red-500 bg-opacity-0 group-hover:bg-opacity-30":"bg-green-500 bg-opacity-0 group-hover:bg-opacity-30"}`,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-opacity duration-200 opacity-0 group-hover:opacity-100",children:o?e.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}):e.jsx("svg",{className:"w-12 h-12 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),o&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 rounded-full p-1 shadow-lg",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]})]})}),e.jsx("div",{className:s.imageSrc?"md:col-span-2":"md:col-span-3",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.notes})})]})]},r)})}),a.length>=3&&l.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center border border-gray-100",children:[e.jsx("div",{className:"text-gray-500 mb-2",children:e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Nie znaleziono gatunk√≥w"}),e.jsx("p",{className:"text-gray-600",children:"Spr√≥buj u≈ºyƒá innych s≈Ç√≥w kluczowych lub wyczy≈õƒá wyszukiwanie."})]})]})}export{f as default};
